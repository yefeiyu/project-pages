---
layout: post
title: 与苹果为敌——无法激活绕过icloud验证进入iOS系统
date: 2018-06-29
categories: 
- mobile
tags: 
- apple
- iOS 9.0.2
- icloud
- SemiRestore
- Cydia
- openssh
- clutch
- jailbreak
-
author: yefeiyu
excerpt: 
theme: 
plugin: 
scheme-text: "#8b4513"
scheme-link: "#d2691e"
scheme-hover: "#"
scheme-code: "#"
scheme-bg: "#ffeebd"
scheme-hero-text: "#ffdead"
scheme-hero-link: "#f4a460"
scheme-hero-bg: "#8b4513"
scheme-bg-light: true
---

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> 无法激活状态的前情</h2>
<div class="outline-text-2" id="text-1">
<p>
一直越狱使用iOS9.0.2的手机，上周摔了屏幕，想到天才吧花点贵钱换个原装屏。天才吧的政策是手机必须非越狱状态才提供维修服务，不得已只好搜索一下越狱擦除工具。开始的时候使用Cydia eraser（原Cydia Impactor），提供无ota无法使用；继尔使用SemiRestore，成功擦除。<br >
擦除后发现不能激活，再次上网搜索，发现是9.0-9.1关闭了（即使正常状态下手机恢复）激活通道。<br >
</p>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> 绕过激活开启手机</h2>
<div class="outline-text-2" id="text-2">
<p>
SemiRestore擦除保留了越狱系统，擦除时强制要求在Cydia下载Openssh。这一措施为下述这方案提供ssh控制手机的支持。<br >
</p>
</div>
<div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> 开始使用bypass iCloud activation修改DNS后网页版，得到safari网页版系统，能使用部分手机功能。</h3>
</div>
<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> 然后看到这个贴子</h3>
<div class="outline-text-3" id="text-2-2">
<p>
（<a href="https://www.reddit.com/r/jailbreak/comments/82y50o/question_cant_activate_after_semi_restore_on_902/%EF%BC%89%E7%9A%84%E6%AD%A5%E9%AA%A4">https://www.reddit.com/r/jailbreak/comments/82y50o/question_cant_activate_after_semi_restore_on_902/%EF%BC%89%E7%9A%84%E6%AD%A5%E9%AA%A4</a><br >
</p>
<blockquote>
<p>
Yeah 9.0.2 has no tfp0 enabled. Hmm, can you send file to your device through SSH ? If so, then try this :<br >
download this nvrampatcher and place to root folder (/)<br >
ssh your device, login as root, pass alpine<br >
type&amp;enter: chmod +x nvrampatcher<br >
type&amp;enter: ./nvrampatcher<br >
wait until it say "Applying kernel patch&#x2026; done" then good<br >
type&amp;enter: nvram -p<br >
type&amp;enter: nvram com.apple.System.boot-nonce=GENERATOR_BLOBS<br >
then type&amp;enter: nvram -p<br >
if the string nvram com.apple.System.boot-nonce=0xxx is appear, then good, your Generator has been set. Do upgrade from 9.0.2 to jailbroken firmware (in your case which is 11.0 - 11.1.2) with latest (unofficial) futurerestore v173.<br >
</p>
</blockquote>
<p>
试了启动tpf0（<a href="https://mrmad.com.tw/cl0ver%EF%BC%89%EF%BC%8C%E4%BA%A6%E6%9C%AA%E8%83%BD%E6%BF%80%E6%B4%BB%E3%80%82%EF%BC%88%E8%BF%99%E7%AF%87%E6%96%87%E7%AB%A0%E4%B8%AD%E9%97%B4%E7%BF%BB%E8%AF%91%E6%9C%89%E7%82%B9%E5%B0%8F%E7%BC%BA%E6%BC%8F%EF%BC%8C%E9%9C%80%E8%A6%81%E5%88%86%E5%88%AB%E4%B8%8B%E8%BD%BD%E5%B9%B6%E5%B0%87%E3%80%8Ccl0ver%E6%AA%94%E6%A1%88%E3%80%8D%E8%88%87%E3%80%8Coffsets.dat%E6%AA%94%E6%A1%88%E3%80%8D%E6%8B%B7%E8%B4%9D%E5%88%B0%E6%89%8B%E6%9C%BA%EF%BC%8C%E6%9C%80%E5%A5%BD%E7%9C%8B%E5%8E%9F%E6%96%87https://yalujailbreak.net/enable-tpf0-ios-9-jailbreak/">https://mrmad.com.tw/cl0ver%EF%BC%89%EF%BC%8C%E4%BA%A6%E6%9C%AA%E8%83%BD%E6%BF%80%E6%B4%BB%E3%80%82%EF%BC%88%E8%BF%99%E7%AF%87%E6%96%87%E7%AB%A0%E4%B8%AD%E9%97%B4%E7%BF%BB%E8%AF%91%E6%9C%89%E7%82%B9%E5%B0%8F%E7%BC%BA%E6%BC%8F%EF%BC%8C%E9%9C%80%E8%A6%81%E5%88%86%E5%88%AB%E4%B8%8B%E8%BD%BD%E5%B9%B6%E5%B0%87%E3%80%8Ccl0ver%E6%AA%94%E6%A1%88%E3%80%8D%E8%88%87%E3%80%8Coffsets.dat%E6%AA%94%E6%A1%88%E3%80%8D%E6%8B%B7%E8%B4%9D%E5%88%B0%E6%89%8B%E6%9C%BA%EF%BC%8C%E6%9C%80%E5%A5%BD%E7%9C%8B%E5%8E%9F%E6%96%87https://yalujailbreak.net/enable-tpf0-ios-9-jailbreak/</a>）<br >
看来它似乎只支持iphone5S以下。<br >
</p>
</div>
</div>
<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3"><span class="section-number-3">2.3</span> others</h3>
<div class="outline-text-3" id="text-2-3">
<p>
然后看到这个贴子，<a href="https://www.reddit.com/r/jailbreak/comments/8bjs2k/discussion_dont_attempt_semirestorecydia/%EF%BC%8C%E7%9B%B4%E6%8E%A5%E5%B0%86/Applications/Setup.app%E6%94%B9%E5%90%8D%E5%8D%B3%E5%8F%AF%E3%80%82%E9%87%8D%E5%90%AF%E5%90%8E%E7%9B%B4%E6%8E%A5%E7%BB%95%E8%BF%87Activation%E8%BF%9B%E5%85%A5%E7%B3%BB%E7%BB%9F">https://www.reddit.com/r/jailbreak/comments/8bjs2k/discussion_dont_attempt_semirestorecydia/%EF%BC%8C%E7%9B%B4%E6%8E%A5%E5%B0%86/Applications/Setup.app%E6%94%B9%E5%90%8D%E5%8D%B3%E5%8F%AF%E3%80%82%E9%87%8D%E5%90%AF%E5%90%8E%E7%9B%B4%E6%8E%A5%E7%BB%95%E8%BF%87Activation%E8%BF%9B%E5%85%A5%E7%B3%BB%E7%BB%9F</a>。<br >
这个网页的回贴中，似乎只有facetime和imessage不能使用。但是的我手机是涉及icloud的整个系统不能使用。可能是该贴主要讨论的是5s之前的手机。在苹果新64位系统中，已经作了相关补丁，即不通过icloud注册，无法打开通讯录等。而原本旧版手机是锁机状态下通过盲人模式进入通讯录可以激活系统的。<br >
</p>
</div>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> 使用手机能流畅使用的具体方法</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> 无法使用app store</h3>
<div class="outline-text-3" id="text-3-1">
<p>
在cydia下载kstore。凡是app store中打开app的页面显示“K”标志的，可以下载使用。<br >
在cydia下载appcake（源cydia.iphonecake.com），非官方商店。<br >
如果上述商店仍然存在无法下载的app，则需要通过对app进行脱壳后传送并安装。详见第四部分“脱壳”。<br >
</p>
</div>
</div>
<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> 无法使用通讯录</h3>
<div class="outline-text-3" id="text-3-2">
<p>
appcake搜索下载allcontacts pro，同步google联系人至手机。<br >
如果在app store中下载其他的contacts同步工具，也可以完成此项工作。可选择范围可能扩大至outlook contacts、qq通讯录等。<br >
</p>
</div>
</div>
<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3"><span class="section-number-3">3.3</span> 无法使用自带备忘录、提醒事项等</h3>
<div class="outline-text-3" id="text-3-3">
<p>
使用google keep代替。<br >
</p>
</div>
</div>
<div id="outline-container-sec-3-4" class="outline-3">
<h3 id="sec-3-4"><span class="section-number-3">3.4</span> 其他方法，目前看未发现不便之处。</h3>
</div>
</div>
<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> 脱壳</h2>
<div class="outline-text-2" id="text-4">
<p>
一般说来，需要在电脑端操作（未实验），或者在其他越狱手机上操作。下面以手机为例。<br >
</p>
</div>
<div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1"><span class="section-number-3">4.1</span> cydia下载NewTerm 2, (源<a href="https://cydia.hbang.ws">https://cydia.hbang.ws</a>)</h3>
</div>
<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2"><span class="section-number-3">4.2</span> cydia下载clutch 2，（源cydia.ichitaso.com）</h3>
<div class="outline-text-3" id="text-4-2">
<p>
clutch -i查看app编号<br >
clutch -d 01脱壳01号app，默认保存路径为/var/mobile/Documents/Dumped<br >
复制安装即可<br >
</p>
</div>
</div>
<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3"><span class="section-number-3">4.3</span> imovie</h3>
<div class="outline-text-3" id="text-4-3">
<p>
这个软件也许用的人不多，其中用到icloud的一点是导入背景音乐库。<br >
由于icloud整体已经不能用，即使用itools和ifunbox也无法导入任何歌曲。<br >
经过测试，可以直接把mp3文件导入到imovie中。具体方法见第五条。<br >
</p>
</div>
</div>
<div id="outline-container-sec-4-4" class="outline-3">
<h3 id="sec-4-4"><span class="section-number-3">4.4</span> cydia安装App Admin</h3>
<div class="outline-text-3" id="text-4-4">
<p>
部分app的新版本无法成功脱壳，如腾迅系、阿里系，使用本插件下载旧版本脱壳（不知道其他脱壳工具是否可以脱新版本）。<br >
</p>
</div>
</div>
</div>
<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> 和电脑互拷文件</h2>
<div class="outline-text-2" id="text-5">
<p>
如果单纯在手机上使用文件操作，则使用cydia下载Filza即可（由于无法使用icloud，我的正版ifile也无法验证注册）<br >
如果想使用电脑更方便的操作，那么就借助SemiRestore时强制安装的Openssh。在pc上安装winscp，或者cygwin等命令行工具，在linux下可以直接操作。<br >
</p>
</div>
<div id="outline-container-sec-5-1" class="outline-3">
<h3 id="sec-5-1"><span class="section-number-3">5.1</span> 登陆、操作手机：</h3>
<div class="outline-text-3" id="text-5-1">
<p>
ssh root@192.168.xxx.xxx（手机ip地址）<br >
</p>
</div>
</div>
<div id="outline-container-sec-5-2" class="outline-3">
<h3 id="sec-5-2"><span class="section-number-3">5.2</span> 拷贝文件到手机：</h3>
<div class="outline-text-3" id="text-5-2">
<p>
scp -r /localhost/xx.mp3 root@192.168.xxx.xxx<br >
</p>
</div>
</div>
<div id="outline-container-sec-5-3" class="outline-3">
<h3 id="sec-5-3"><span class="section-number-3">5.3</span> 已经登陆手机，从电脑往手机上拷贝：</h3>
<div class="outline-text-3" id="text-5-3">
<p>
scp -r xxx@192.168.xxx.xxx(电脑ip) <i>localhost</i>.（手机所在文件夹位置）<br >
</p>
</div>
</div>
<div id="outline-container-sec-5-4" class="outline-3">
<h3 id="sec-5-4"><span class="section-number-3">5.4</span> 将mp3文件拷贝到imovie</h3>
<div class="outline-text-3" id="text-5-4">
<p>
先使用google drive或dropbox网盘工具下载mp3，如BusyBaby.mp3，导入到imove中。<br >
在NewTerm 2或者已登陆手机winscp命令行或linux ssh命令行中，使用命令find / -name BusyBaby.mp3，查看文件位置。如/private/var/mobile/Containers/Da\<br >
ta/Application/19FE5032-EB86-40AC-B2FE-9F023A27F0D8/Library/Application Support/Documents/SharedM\<br >
edia/Audio/BusyBaby.mp3，找到路径。<br >
最后使用命令scp拷贝。<br >
</p>
</div>
</div>
</div>
